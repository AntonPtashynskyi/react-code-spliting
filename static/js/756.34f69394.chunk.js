"use strict";(self.webpackChunkreact_code_splitting=self.webpackChunkreact_code_splitting||[]).push([[756],{2756:function(t,e,n){n.r(e),n.d(e,{default:function(){return T}});var r=n(6030),o=(n(1174),n(885)),c=n(6157),s=n(7594),u=n(6140),i=n(2791),a=n(5861),d=n(7757),l=n.n(d),f=n(4569),h=n.n(f),p=n(41);h().defaults.baseURL="http://localhost:4040/";var m={fetchTodos:function(){return function(){var t=(0,a.Z)(l().mark((function t(e){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(p.n4()),t.prev=1,t.next=4,h().get("/todos");case 4:return n=t.sent,r=n.data,t.abrupt("return",e(p.f8(r)));case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",e(p.QQ(t.t0)));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},addTodo:function(t){return function(e){var n={text:t,completed:!1};return e(p.Ht()),h().post("/todos",n).then((function(t){var n=t.data;return e(p.yZ(n))})).catch((function(t){return e(p.rG(t))}))}},deleteTodo:function(t){return function(e){return e(p.ut()),h().delete("/todos/".concat(t)).then((function(){return e(p.eH(t))})).catch((function(t){return e(p.rG(t))}))}},toggleCompleted:function(t){var e=t.id,n=t.completed;return function(t){var r={completed:n};return t(p.VA()),h().patch("/todos/".concat(e),r).then((function(e){var n=e.data;return t(p.uJ(n))})).catch((function(e){return t(p.hI(e))}))}}},x=m,v=n(184),j=function(){var t=(0,i.useState)(!1),e=(0,o.Z)(t,2),n=e[0],a=e[1],d=function(){return a(!n)},l=(0,r.I0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"addNewTodoContainer",children:[(0,v.jsx)("p",{children:"Add ToDo"}),(0,v.jsx)(c.Z,{onClick:d,className:"add-button ",children:"+"})]}),(0,v.jsxs)(s.Z,{show:n,onHide:d,backdrop:!0,keyboard:!0,children:[(0,v.jsx)(s.Z.Header,{closeButton:!0,children:(0,v.jsx)(s.Z.Title,{children:"Modal title"})}),(0,v.jsx)(s.Z.Body,{children:(0,v.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault();var e=t.target,n=t.target.todo.value;if(!n)return u.ZP.error("Add todo");!function(t){l(x.addTodo(t))}(n),e.reset(),u.ZP.success("Successfully added!"),d()},children:[(0,v.jsx)("input",{autoFocus:!0,placeholder:"type something",className:"input",type:"text",name:"todo"}),(0,v.jsx)(c.Z,{className:"save-button",type:"submit",children:"Save"})]})})]})]})},g=function(){var t=(0,r.I0)();return(0,v.jsx)("div",{children:(0,v.jsx)("input",{placeholder:"FILTER TODO",onChange:function(e){return n=e.target.value,t(p.CT(n));var n}})})},b=function(){var t,e=(0,r.v9)((function(t){return t.todo.items.length})),n=(0,r.v9)((function(t){return t.todo.items}));return(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{style:{marginBottom:"0"},children:["All todos: ",e]}),(0,v.jsxs)("p",{style:{marginBottom:"0"},children:["Done todos: ",(t=n,t.reduce((function(t,e){return e.completed?t+1:t}),0))]})]})},C=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"todoContainer",children:[(0,v.jsx)(j,{}),(0,v.jsx)(b,{}),(0,v.jsx)(g,{})]})})},N=function(){var t=(0,r.I0)(),e=(0,r.v9)((function(t){return t.todo.items})),n=(0,r.v9)((function(t){return t.todo.filter}));(0,i.useEffect)((function(){t(x.fetchTodos())}),[t]);var o=function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.text.toLowerCase().includes(n)}))}(e,n);return(0,v.jsx)("ul",{className:"list",children:o.map((function(e){var n=e.id,r=e.text,o=e.completed;return(0,v.jsxs)("li",{className:"list-item",children:[(0,v.jsx)("input",{className:"item-input",type:"checkbox",checked:o,onChange:function(){return t(x.toggleCompleted({id:n,completed:!o}))}}),(0,v.jsx)("span",{children:r}),(0,v.jsx)("button",{className:"item-button",onClick:function(){t(x.deleteTodo(n))},children:"x"})]},n)}))})},T=function(){var t=(0,r.v9)((function(t){return t.user.isLogin}));return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"pageContainer",children:[(0,v.jsx)("h2",{children:"ToDo's Page"}),!t&&(0,v.jsx)("div",{children:"Please go to home page and log In"}),t&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(C,{}),(0,v.jsx)("div",{className:"container",children:(0,v.jsx)(N,{})})]})]})})}}}]);
//# sourceMappingURL=756.34f69394.chunk.js.map